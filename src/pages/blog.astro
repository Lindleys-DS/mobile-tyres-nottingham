---
import Layout from "../layouts/Layout.astro"
const allPosts = await Astro.glob("../pages/posts/*.md")
const title = "Blog - Mobile Tyres Nottingham"
const description = "Find the latest tyre trade news and information on our blog section."
const index = true

allPosts.sort((a, b) => Date.parse(b.frontmatter.date) - Date.parse(a.frontmatter.date))
---

<Layout title={title} description={description} index={index}>
    <div class="py-5 bg-secondary">
        <div class="container">
            <h1 class="text-center text-light fw-bold">Blog</h1>
        </div>
    </div>
    <div class="container py-5">
        <div class="row g-5">
                { allPosts.map((post) => 
                    <div class="col-12 col-lg-4">
                        <img src={post.frontmatter.img.url} alt={post.frontmatter.img.alt} class="w-100">
                        <div class="p-3">
                            <p class="mt-3"><a href={post.url} class="fs-5 link-dark">{post.frontmatter.title}</a></p>
                            <p>{post.frontmatter.excerpt}</p>
                        </div>
                    </div>
                ) }    
            
        </div>
    </div>
</div>
</Layout>